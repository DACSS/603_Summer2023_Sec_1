{
  "hash": "d6f06474371dc69778e3cad7220662ea",
  "result": {
    "markdown": "---\ntitle: \"Class Project 1: Sue-Ellen Duffy\"\nauthor: \"Sue-Ellen Duffy\"\ndescription: \"Boston - Person Level Crash Data\"\ndate: \"07/18/2023\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - class_project_1\n  - Sue-Ellen_Duffy\n---\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(summarytools)\nlibrary(readxl)\nlibrary(readr)\nlibrary(stats)\nlibrary(dplyr)\nlibrary(kableExtra)\nlibrary(ggplot2)\nlibrary(hrbrthemes)\nlibrary(viridis)\nlibrary(scales)\nlibrary(vioplot)\nlibrary(ggfortify)\nlibrary(stringr)\n\nknitr::opts_chunk$set(echo = TRUE, warning=FALSE, message=FALSE)\n```\n:::\n\n\n### Boston Crash Data - Statistical Analysis of Number of Cars Involved Per Individual Crash from 2013 to 2022\n\n**Hypothesis**: The number of Cars per crash are increasing in\nBoston, Massachusetts.\n\nIn order to study this hypothesis I will look at publicly available crash data,  from the Massachusetts Department of Transportation, specifically crashes in Boston from 2013 to 2022.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Read in Cleaned Data\nNumbers <- read_csv(\"Sue-Ellen_Data/2013_2022_Crashes_Boston.csv\", col_types = cols(\n  \"...1\" = col_skip(), \"CITY\" = col_skip()))\n```\n:::\n\n### Data in numbers\n\nThe first table below provides the Number of Cars Involved per Individual Crash in Boston from 2013-2022. The second table provides the corresponding percentages.\n\n::: {.cell}\n\n```{.r .cell-code}\n#Create Count of Car Crashes per Year per Number of Cars Involved\nNumbers2 <- Numbers %>%\n  select(YEAR, NUMB_VEHC) %>%\n  group_by(YEAR, NUMB_VEHC) %>%\n  count() \nNumbers2 <- Numbers2 %>% replace(is.na(.), 0)\n\n#Pivot Data Wide for Distribution of Crashes Per Number of Cars by Year\nNumbers3 <- pivot_wider(Numbers2, names_from=NUMB_VEHC, values_from = n)\nNumbers3 <- Numbers3 %>% replace(is.na(.), 0)\nNumbers3 <- Numbers3[, c(\"YEAR\", \"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\", \"10\", \"11\", \"12\", \"18\")]\nNumbers3 %>%\n  kbl(digits = 1, caption = \"Total Crashes Per Year that Involve X Number of Cars\") %>%\n  kable_classic() \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic\" style='font-family: \"Arial Narrow\", \"Source Sans Pro\", sans-serif; margin-left: auto; margin-right: auto;'>\n<caption>Total Crashes Per Year that Involve X Number of Cars</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> YEAR </th>\n   <th style=\"text-align:right;\"> 1 </th>\n   <th style=\"text-align:right;\"> 2 </th>\n   <th style=\"text-align:right;\"> 3 </th>\n   <th style=\"text-align:right;\"> 4 </th>\n   <th style=\"text-align:right;\"> 5 </th>\n   <th style=\"text-align:right;\"> 6 </th>\n   <th style=\"text-align:right;\"> 7 </th>\n   <th style=\"text-align:right;\"> 8 </th>\n   <th style=\"text-align:right;\"> 9 </th>\n   <th style=\"text-align:right;\"> 10 </th>\n   <th style=\"text-align:right;\"> 11 </th>\n   <th style=\"text-align:right;\"> 12 </th>\n   <th style=\"text-align:right;\"> 18 </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 2013 </td>\n   <td style=\"text-align:right;\"> 1015 </td>\n   <td style=\"text-align:right;\"> 2286 </td>\n   <td style=\"text-align:right;\"> 409 </td>\n   <td style=\"text-align:right;\"> 93 </td>\n   <td style=\"text-align:right;\"> 16 </td>\n   <td style=\"text-align:right;\"> 7 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2014 </td>\n   <td style=\"text-align:right;\"> 1018 </td>\n   <td style=\"text-align:right;\"> 2309 </td>\n   <td style=\"text-align:right;\"> 442 </td>\n   <td style=\"text-align:right;\"> 89 </td>\n   <td style=\"text-align:right;\"> 21 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2015 </td>\n   <td style=\"text-align:right;\"> 947 </td>\n   <td style=\"text-align:right;\"> 2547 </td>\n   <td style=\"text-align:right;\"> 433 </td>\n   <td style=\"text-align:right;\"> 126 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2016 </td>\n   <td style=\"text-align:right;\"> 899 </td>\n   <td style=\"text-align:right;\"> 2618 </td>\n   <td style=\"text-align:right;\"> 461 </td>\n   <td style=\"text-align:right;\"> 118 </td>\n   <td style=\"text-align:right;\"> 20 </td>\n   <td style=\"text-align:right;\"> 5 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2017 </td>\n   <td style=\"text-align:right;\"> 1068 </td>\n   <td style=\"text-align:right;\"> 3064 </td>\n   <td style=\"text-align:right;\"> 499 </td>\n   <td style=\"text-align:right;\"> 111 </td>\n   <td style=\"text-align:right;\"> 26 </td>\n   <td style=\"text-align:right;\"> 8 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2018 </td>\n   <td style=\"text-align:right;\"> 911 </td>\n   <td style=\"text-align:right;\"> 3008 </td>\n   <td style=\"text-align:right;\"> 505 </td>\n   <td style=\"text-align:right;\"> 136 </td>\n   <td style=\"text-align:right;\"> 18 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2019 </td>\n   <td style=\"text-align:right;\"> 797 </td>\n   <td style=\"text-align:right;\"> 2824 </td>\n   <td style=\"text-align:right;\"> 497 </td>\n   <td style=\"text-align:right;\"> 104 </td>\n   <td style=\"text-align:right;\"> 30 </td>\n   <td style=\"text-align:right;\"> 9 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2020 </td>\n   <td style=\"text-align:right;\"> 835 </td>\n   <td style=\"text-align:right;\"> 1765 </td>\n   <td style=\"text-align:right;\"> 317 </td>\n   <td style=\"text-align:right;\"> 73 </td>\n   <td style=\"text-align:right;\"> 23 </td>\n   <td style=\"text-align:right;\"> 6 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2021 </td>\n   <td style=\"text-align:right;\"> 926 </td>\n   <td style=\"text-align:right;\"> 2520 </td>\n   <td style=\"text-align:right;\"> 478 </td>\n   <td style=\"text-align:right;\"> 106 </td>\n   <td style=\"text-align:right;\"> 27 </td>\n   <td style=\"text-align:right;\"> 10 </td>\n   <td style=\"text-align:right;\"> 3 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2022 </td>\n   <td style=\"text-align:right;\"> 821 </td>\n   <td style=\"text-align:right;\"> 2301 </td>\n   <td style=\"text-align:right;\"> 413 </td>\n   <td style=\"text-align:right;\"> 82 </td>\n   <td style=\"text-align:right;\"> 25 </td>\n   <td style=\"text-align:right;\"> 4 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 2 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n#Create a Percentage Grouping of Crashes Per Number of Cars by Year\nNumber4 <- Numbers3 %>%\n  mutate(total = sum(c_across(1:13))) %>%\n  ungroup() %>%\n  mutate(across(2:13, ~ ./ total)) %>%\n  mutate(across(2:13, ~ .*100))\n\nNumber4 %>%\n  kbl(digits = 1, caption = \"Percent of Total Crashes Per Year that Involve X Number of Cars\") %>%\n  kable_classic()\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic\" style='font-family: \"Arial Narrow\", \"Source Sans Pro\", sans-serif; margin-left: auto; margin-right: auto;'>\n<caption>Percent of Total Crashes Per Year that Involve X Number of Cars</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> YEAR </th>\n   <th style=\"text-align:right;\"> 1 </th>\n   <th style=\"text-align:right;\"> 2 </th>\n   <th style=\"text-align:right;\"> 3 </th>\n   <th style=\"text-align:right;\"> 4 </th>\n   <th style=\"text-align:right;\"> 5 </th>\n   <th style=\"text-align:right;\"> 6 </th>\n   <th style=\"text-align:right;\"> 7 </th>\n   <th style=\"text-align:right;\"> 8 </th>\n   <th style=\"text-align:right;\"> 9 </th>\n   <th style=\"text-align:right;\"> 10 </th>\n   <th style=\"text-align:right;\"> 11 </th>\n   <th style=\"text-align:right;\"> 12 </th>\n   <th style=\"text-align:right;\"> 18 </th>\n   <th style=\"text-align:right;\"> total </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 2013 </td>\n   <td style=\"text-align:right;\"> 26.5 </td>\n   <td style=\"text-align:right;\"> 59.7 </td>\n   <td style=\"text-align:right;\"> 10.7 </td>\n   <td style=\"text-align:right;\"> 2.4 </td>\n   <td style=\"text-align:right;\"> 0.4 </td>\n   <td style=\"text-align:right;\"> 0.2 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 3829 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2014 </td>\n   <td style=\"text-align:right;\"> 26.2 </td>\n   <td style=\"text-align:right;\"> 59.5 </td>\n   <td style=\"text-align:right;\"> 11.4 </td>\n   <td style=\"text-align:right;\"> 2.3 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 3883 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2015 </td>\n   <td style=\"text-align:right;\"> 23.2 </td>\n   <td style=\"text-align:right;\"> 62.5 </td>\n   <td style=\"text-align:right;\"> 10.6 </td>\n   <td style=\"text-align:right;\"> 3.1 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 4078 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2016 </td>\n   <td style=\"text-align:right;\"> 21.8 </td>\n   <td style=\"text-align:right;\"> 63.5 </td>\n   <td style=\"text-align:right;\"> 11.2 </td>\n   <td style=\"text-align:right;\"> 2.9 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 4124 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2017 </td>\n   <td style=\"text-align:right;\"> 22.3 </td>\n   <td style=\"text-align:right;\"> 64.1 </td>\n   <td style=\"text-align:right;\"> 10.4 </td>\n   <td style=\"text-align:right;\"> 2.3 </td>\n   <td style=\"text-align:right;\"> 0.5 </td>\n   <td style=\"text-align:right;\"> 0.2 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 1 </td>\n   <td style=\"text-align:right;\"> 4780 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2018 </td>\n   <td style=\"text-align:right;\"> 19.8 </td>\n   <td style=\"text-align:right;\"> 65.5 </td>\n   <td style=\"text-align:right;\"> 11.0 </td>\n   <td style=\"text-align:right;\"> 3.0 </td>\n   <td style=\"text-align:right;\"> 0.4 </td>\n   <td style=\"text-align:right;\"> 0.2 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 4594 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2019 </td>\n   <td style=\"text-align:right;\"> 18.7 </td>\n   <td style=\"text-align:right;\"> 66.2 </td>\n   <td style=\"text-align:right;\"> 11.7 </td>\n   <td style=\"text-align:right;\"> 2.4 </td>\n   <td style=\"text-align:right;\"> 0.7 </td>\n   <td style=\"text-align:right;\"> 0.2 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 4265 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2020 </td>\n   <td style=\"text-align:right;\"> 27.6 </td>\n   <td style=\"text-align:right;\"> 58.4 </td>\n   <td style=\"text-align:right;\"> 10.5 </td>\n   <td style=\"text-align:right;\"> 2.4 </td>\n   <td style=\"text-align:right;\"> 0.8 </td>\n   <td style=\"text-align:right;\"> 0.2 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 3023 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2021 </td>\n   <td style=\"text-align:right;\"> 22.7 </td>\n   <td style=\"text-align:right;\"> 61.9 </td>\n   <td style=\"text-align:right;\"> 11.7 </td>\n   <td style=\"text-align:right;\"> 2.6 </td>\n   <td style=\"text-align:right;\"> 0.7 </td>\n   <td style=\"text-align:right;\"> 0.2 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 4071 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2022 </td>\n   <td style=\"text-align:right;\"> 22.5 </td>\n   <td style=\"text-align:right;\"> 63.1 </td>\n   <td style=\"text-align:right;\"> 11.3 </td>\n   <td style=\"text-align:right;\"> 2.2 </td>\n   <td style=\"text-align:right;\"> 0.7 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.0 </td>\n   <td style=\"text-align:right;\"> 0.1 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 0 </td>\n   <td style=\"text-align:right;\"> 3649 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\nWe can see that the percentage of crashes with only 1 car in Boston *appear* to be decreasing and crashes with 2 cars *seem* to be increasing. \n\n+ From the second table we see that 26.5% of 2013's total crashes involved only 1 car whereas only 22.5% of total crashes involved 1 car in 2022. \n\n+ In contrast, we see that 59.7% of 2013's total crashes involved 2 cars and 63.1% of total crashes involved 2 cars in 2022.\n\n### Visualizing the bivariate relationship between Year and Number of Cars involved in each Boston crash from 2013 to 2022.\n\n::: {.cell}\n\n```{.r .cell-code}\nggplot(Numbers, aes(YEAR, y=NUMB_VEHC)) + geom_point() + geom_jitter() + scale_x_continuous(breaks=pretty_breaks()) + labs(title = \"Crashes in Boston by Number of Cars Involved per Crash\", y = \"Number of Cars Involved per Individual Crash\", x = \"Year\")\n```\n\n::: {.cell-output-display}\n![](Class_Project_1_Sue-Ellen_Duffy_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\nThis graph shows us that most crashes are concentrated within the 1-3 car range with some outliers in the 5+ range. The relationship is not evident on first visual inspection. The density\nof cars in the lower region of the graph, makes it difficult to see a correlation. \n\n#### Correlation Calculation\n\n::: {.cell}\n\n```{.r .cell-code}\ncor(Numbers$YEAR, Numbers$NUMB_VEHC)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.02003981\n```\n:::\n:::\n\n\nUpon calculation, we see that the correlation is **positive**, though slight\n**(cor = 0.02)**. This data suggests that there is an **increase** in Number of\nCars Involved in an Individual Crash per Year from 2013 to 2022. This\nstatistic simply suggests that there is a correlation and *correlation\ndoes not imply causation*.\n\n### Yearly Averages\nBelow we see the average number of cars involved per crash by year from\n2013 to 2022. We see the lowest averages in 2013 and 2020 with a peak in\n2019. The lowest average in 2020 can be explained likely by fewer cars\ndriving, lower density in traffic patterns due to the pandemic. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n#1.b\navgs <- Numbers %>% \n        group_by(YEAR) %>% \n        summarise(mean(NUMB_VEHC), \n                  sd(NUMB_VEHC), \n                  n())\n\ncolnames(avgs) <- c(\"Year\", \"Y_bar_V\", \"s_V\", \"n_V\")\navgs %>%\n  kbl(caption = \"Y bar, standard deviation, and n for Number of Cars Involved per Crash by Year\") %>%\n  kable_classic() \n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic\" style='font-family: \"Arial Narrow\", \"Source Sans Pro\", sans-serif; margin-left: auto; margin-right: auto;'>\n<caption>Y bar, standard deviation, and n for Number of Cars Involved per Crash by Year</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> Year </th>\n   <th style=\"text-align:right;\"> Y_bar_V </th>\n   <th style=\"text-align:right;\"> s_V </th>\n   <th style=\"text-align:right;\"> n_V </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 2013 </td>\n   <td style=\"text-align:right;\"> 1.915644 </td>\n   <td style=\"text-align:right;\"> 0.7542552 </td>\n   <td style=\"text-align:right;\"> 3829 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2014 </td>\n   <td style=\"text-align:right;\"> 1.918620 </td>\n   <td style=\"text-align:right;\"> 0.7313337 </td>\n   <td style=\"text-align:right;\"> 3883 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2015 </td>\n   <td style=\"text-align:right;\"> 1.955370 </td>\n   <td style=\"text-align:right;\"> 0.7237987 </td>\n   <td style=\"text-align:right;\"> 4078 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2016 </td>\n   <td style=\"text-align:right;\"> 1.974782 </td>\n   <td style=\"text-align:right;\"> 0.7310343 </td>\n   <td style=\"text-align:right;\"> 4124 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2017 </td>\n   <td style=\"text-align:right;\"> 1.958159 </td>\n   <td style=\"text-align:right;\"> 0.7629241 </td>\n   <td style=\"text-align:right;\"> 4780 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2018 </td>\n   <td style=\"text-align:right;\"> 1.998912 </td>\n   <td style=\"text-align:right;\"> 0.7358498 </td>\n   <td style=\"text-align:right;\"> 4594 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2019 </td>\n   <td style=\"text-align:right;\"> 2.012661 </td>\n   <td style=\"text-align:right;\"> 0.7220912 </td>\n   <td style=\"text-align:right;\"> 4265 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2020 </td>\n   <td style=\"text-align:right;\"> 1.914985 </td>\n   <td style=\"text-align:right;\"> 0.7822381 </td>\n   <td style=\"text-align:right;\"> 3023 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2021 </td>\n   <td style=\"text-align:right;\"> 1.977401 </td>\n   <td style=\"text-align:right;\"> 0.7627573 </td>\n   <td style=\"text-align:right;\"> 4071 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2022 </td>\n   <td style=\"text-align:right;\"> 1.963278 </td>\n   <td style=\"text-align:right;\"> 0.7346901 </td>\n   <td style=\"text-align:right;\"> 3649 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n\n```{.r .cell-code}\n#need to calculate avgs. Numb Vehc = count + Numb Vehc*count.... /Totalct == Year avgs\n#Avg# of cars per year\nsummarytools::descr(Numbers)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nDescriptive Statistics  \nNumbers  \nN: 40296  \n\n                    NUMB_VEHC       YEAR\n----------------- ----------- ----------\n             Mean        1.96    2017.43\n          Std.Dev        0.74       2.79\n              Min        1.00    2013.00\n               Q1        2.00    2015.00\n           Median        2.00    2017.00\n               Q3        2.00    2020.00\n              Max       18.00    2022.00\n              MAD        0.00       2.97\n              IQR        0.00       5.00\n               CV        0.38       0.00\n         Skewness        1.71       0.04\n      SE.Skewness        0.01       0.01\n         Kurtosis       12.35      -1.13\n          N.Valid    40296.00   40296.00\n        Pct.Valid      100.00     100.00\n```\n:::\n\n```{.r .cell-code}\n# ^ This one is the winner\n```\n:::\n\n\n### Probability Plots\n\nThe plot of this probability distribution function (PDF) shows the probability that an individual crashe would involve X number of cars.\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#PDF\npdf <- dnorm(Numbers$NUMB_VEHC, mean(Numbers$NUMB_VEHC), sd(Numbers$NUMB_VEHC))\nplot(Numbers$NUMB_VEHC, pdf, main=\"Probability Distribution Function\",\n        xlab=\"Number of Cars Involved per Individual Crash\",\n        ylab=\"PDF\")\n```\n\n::: {.cell-output-display}\n![](Class_Project_1_Sue-Ellen_Duffy_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\nThis plot demonstrates the **positive skew** of the distribution with a long right tail. This demonstrates the positive skew of 1.71 as seen in the above Descriptive Statistics table. \n\nThe tail is quite heavy and would be considered **leptokurtic**. The heaviness of this tail is recorded in the table above at 12.35.\n\nThe positive skew and heavy tail are to be expected as most crashes fall within 1-3 cars involved per individual crash. Crashes with more cars involved are distributed across the long heavy tail. \n\n\n::: {.cell}\n\n```{.r .cell-code}\n#CDF\nggplot(Numbers, aes(NUMB_VEHC)) +\n  stat_ecdf(geom = \"point\", pad = TRUE) + labs(title = \"Cumulative Distribution Function\", y = \"CDF\", x = \"Number of Cars Involved per Individual Crash\")\n```\n\n::: {.cell-output-display}\n![](Class_Project_1_Sue-Ellen_Duffy_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\nThe cumulative distribution function (CDF) plot shows the cumulative probability for a given x-value, or number of Cars per individual crash. The CDF here shows that \n\n+ very few crashes involve zero cars\n\n+ less than 25% involve 1 car or 0 cars\n\n+ a little more than 80% of crashes involve 2 cars, 1 car or zero cars\n \n+ about 99% of crashes involve 0-4 cars\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Split Variables into Years (2013:2022)\nyear2013 <- avgs %>% dplyr::filter(Year == 2013)\nyear2014 <- avgs %>% dplyr::filter(Year == 2014)\nyear2015 <- avgs %>% dplyr::filter(Year == 2015)\nyear2016 <- avgs %>% dplyr::filter(Year == 2016)\nyear2017 <- avgs %>% dplyr::filter(Year == 2017)\nyear2018 <- avgs %>% dplyr::filter(Year == 2018)\nyear2019 <- avgs %>% dplyr::filter(Year == 2019)\nyear2020 <- avgs %>% dplyr::filter(Year == 2020)\nyear2021 <- avgs %>% dplyr::filter(Year == 2021)\nyear2022 <- avgs %>% dplyr::filter(Year == 2022) \n\n# Rename Columns of Splits\ncolnames(year2013) <- c(\"Year\", \"Y_bar_2013\", \"s_2013\", \"n_2013\")\ncolnames(year2014) <- c(\"Year\", \"Y_bar_2014\", \"s_2014\", \"n_2014\")\ncolnames(year2015) <- c(\"Year\", \"Y_bar_2015\", \"s_2015\", \"n_2015\")\ncolnames(year2016) <- c(\"Year\", \"Y_bar_2016\", \"s_2016\", \"n_2016\")\ncolnames(year2017) <- c(\"Year\", \"Y_bar_2017\", \"s_2017\", \"n_2017\")\ncolnames(year2018) <- c(\"Year\", \"Y_bar_2018\", \"s_2018\", \"n_2018\")\ncolnames(year2019) <- c(\"Year\", \"Y_bar_2019\", \"s_2019\", \"n_2019\")\ncolnames(year2020) <- c(\"Year\", \"Y_bar_2020\", \"s_2020\", \"n_2020\")\ncolnames(year2021) <- c(\"Year\", \"Y_bar_2021\", \"s_2021\", \"n_2021\")\ncolnames(year2022) <- c(\"Year\", \"Y_bar_2022\", \"s_2022\", \"n_2022\")\n\n\n#largest intervals?\ngap_2013_2022 <- year2022$Y_bar_2022 - year2013$Y_bar_2013\ngap_2013_2022_se <- sqrt(year2022$s_2022^2/year2022$n_2022 + year2013$s_2013^2/year2013$n_2013)\ngap_2013_2022_ci_l <- gap_2013_2022 - 1.96* gap_2013_2022_se\ngap_2013_2022_ci_u <- gap_2013_2022 + 1.96 * gap_2013_2022_se\n\ngap_2013_2019 <- year2019$Y_bar_2019 - year2013$Y_bar_2013\ngap_2013_2019_se <- sqrt(year2019$s_2019^2/year2019$n_2019 + year2013$s_2013^2/year2013$n_2013)\ngap_2013_2019_ci_l <- gap_2013_2019 - 1.96* gap_2013_2019_se\ngap_2013_2019_ci_u <- gap_2013_2019 + 1.96 * gap_2013_2019_se\n\n#2013-2014, repeat 1 year intervals\ngap_2013_2014 <- year2014$Y_bar_2014 - year2013$Y_bar_2013\ngap_2013_2014_se <- sqrt(year2014$s_2014^2/year2014$n_2014 + year2013$s_2013^2/year2013$n_2013)\ngap_2013_2014_ci_l <- gap_2013_2014 - 1.96* gap_2013_2014_se\ngap_2013_2014_ci_u <- gap_2013_2014 + 1.96 * gap_2013_2014_se\n\ngap_2014_2015 <- year2015$Y_bar_2015 - year2014$Y_bar_2014\ngap_2014_2015_se <- sqrt(year2015$s_2015^2/year2015$n_2015 + year2014$s_2014^2/year2014$n_2014)\ngap_2014_2015_ci_l <- gap_2014_2015 - 1.96* gap_2014_2015_se\ngap_2014_2015_ci_u <- gap_2014_2015 + 1.96 * gap_2014_2015_se\n\ngap_2015_2016 <- year2016$Y_bar_2016 - year2015$Y_bar_2015\ngap_2015_2016_se <- sqrt(year2016$s_2016^2/year2016$n_2016 + year2015$s_2015^2/year2015$n_2015)\ngap_2015_2016_ci_l <- gap_2015_2016 - 1.96* gap_2015_2016_se\ngap_2015_2016_ci_u <- gap_2015_2016 + 1.96 * gap_2015_2016_se\n\ngap_2016_2017 <- year2017$Y_bar_2017 - year2016$Y_bar_2016\ngap_2016_2017_se <- sqrt(year2017$s_2017^2/year2017$n_2017 + year2016$s_2016^2/year2016$n_2016)\ngap_2016_2017_ci_l <- gap_2016_2017 - 1.96* gap_2016_2017_se\ngap_2016_2017_ci_u <- gap_2016_2017 + 1.96 * gap_2016_2017_se\n\ngap_2017_2018 <- year2018$Y_bar_2018 - year2017$Y_bar_2017\ngap_2017_2018_se <- sqrt(year2018$s_2018^2/year2018$n_2018 + year2017$s_2017^2/year2017$n_2017)\ngap_2017_2018_ci_l <- gap_2017_2018 - 1.96* gap_2017_2018_se\ngap_2017_2018_ci_u <- gap_2017_2018 + 1.96 * gap_2017_2018_se\n\ngap_2018_2019 <- year2019$Y_bar_2019 - year2018$Y_bar_2018\ngap_2018_2019_se <- sqrt(year2019$s_2019^2/year2019$n_2019 + year2018$s_2018^2/year2018$n_2018)\ngap_2018_2019_ci_l <- gap_2018_2019 - 1.96* gap_2018_2019_se\ngap_2018_2019_ci_u <- gap_2018_2019 + 1.96 * gap_2018_2019_se\n\ngap_2019_2020 <- year2020$Y_bar_2020 - year2019$Y_bar_2019\ngap_2019_2020_se <- sqrt(year2020$s_2020^2/year2020$n_2020 + year2019$s_2019^2/year2019$n_2019)\ngap_2019_2020_ci_l <- gap_2019_2020 - 1.96* gap_2019_2020_se\ngap_2019_2020_ci_u <- gap_2019_2020 + 1.96 * gap_2019_2020_se\n\ngap_2020_2021 <- year2021$Y_bar_2021 - year2020$Y_bar_2020\ngap_2020_2021_se <- sqrt(year2021$s_2021^2/year2021$n_2021 + year2020$s_2020^2/year2020$n_2020)\ngap_2020_2021_ci_l <- gap_2020_2021 - 1.96* gap_2020_2021_se\ngap_2020_2021_ci_u <- gap_2020_2021 + 1.96 * gap_2020_2021_se\n\ngap_2021_2022 <- year2022$Y_bar_2022 - year2021$Y_bar_2021\ngap_2021_2022_se <- sqrt(year2022$s_2022^2/year2022$n_2022 + year2021$s_2021^2/year2021$n_2021)\ngap_2021_2022_ci_l <- gap_2021_2022 - 1.96* gap_2021_2022_se\ngap_2021_2022_ci_u <- gap_2021_2022 + 1.96 * gap_2021_2022_se\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nresult2013_2022 <- cbind(year2013[], year2022[], gap_2013_2022, gap_2013_2022_ci_l, gap_2013_2022_ci_u, gap_2013_2022_se)\nresult2013_2019 <- cbind(year2013[], year2019[], gap_2013_2019, gap_2013_2019_ci_l, gap_2013_2019_ci_u, gap_2013_2019_se)\n\nresult2013_2014 <- cbind(year2013[], year2014[], gap_2013_2014, gap_2013_2014_ci_l, gap_2013_2014_ci_u, gap_2013_2014_se)\nresult2014_2015 <- cbind(year2014[], year2015[], gap_2014_2015, gap_2014_2015_ci_l, gap_2014_2015_ci_u, gap_2014_2015_se)\nresult2015_2016 <- cbind(year2015[], year2016[], gap_2015_2016, gap_2015_2016_ci_l, gap_2015_2016_ci_u, gap_2015_2016_se)\nresult2016_2017 <- cbind(year2016[], year2017[], gap_2016_2017, gap_2016_2017_ci_l, gap_2016_2017_ci_u, gap_2016_2017_se)\nresult2017_2018 <- cbind(year2017[], year2018[], gap_2017_2018, gap_2017_2018_ci_l, gap_2017_2018_ci_u, gap_2017_2018_se)\nresult2018_2019 <- cbind(year2018[], year2019[], gap_2018_2019, gap_2018_2019_ci_l, gap_2018_2019_ci_u, gap_2018_2019_se)\nresult2019_2020 <- cbind(year2019[], year2020[], gap_2019_2020, gap_2019_2020_ci_l, gap_2019_2020_ci_u, gap_2019_2020_se)\nresult2020_2021 <- cbind(year2020[], year2021[], gap_2020_2021, gap_2020_2021_ci_l, gap_2020_2021_ci_u, gap_2020_2021_se)\nresult2021_2022 <- cbind(year2021[], year2022[], gap_2021_2022, gap_2021_2022_ci_l, gap_2021_2022_ci_u, gap_2021_2022_se)\n\ncolnames(result2013_2014) <- c(\"Year_A\", \"Y_bar_A\", \"sd_A\", \"n_A\", \"Year_B\", \"Y_bar_B\", \"sd_B\", \"n_B\", \"gap_A_B\", \"gap_A_B_se\", \"gap_A_B_ci_l\", \"gap_A_B_ci_U\")\ncolnames(result2014_2015) <- c(\"Year_A\", \"Y_bar_A\", \"sd_A\", \"n_A\", \"Year_B\", \"Y_bar_B\", \"sd_B\", \"n_B\", \"gap_A_B\", \"gap_A_B_se\", \"gap_A_B_ci_l\", \"gap_A_B_ci_U\")\ncolnames(result2015_2016) <- c(\"Year_A\", \"Y_bar_A\", \"sd_A\", \"n_A\", \"Year_B\", \"Y_bar_B\", \"sd_B\", \"n_B\", \"gap_A_B\", \"gap_A_B_se\", \"gap_A_B_ci_l\", \"gap_A_B_ci_U\")\ncolnames(result2016_2017) <- c(\"Year_A\", \"Y_bar_A\", \"sd_A\", \"n_A\", \"Year_B\", \"Y_bar_B\", \"sd_B\", \"n_B\", \"gap_A_B\", \"gap_A_B_se\", \"gap_A_B_ci_l\", \"gap_A_B_ci_U\")\ncolnames(result2017_2018) <- c(\"Year_A\", \"Y_bar_A\", \"sd_A\", \"n_A\", \"Year_B\", \"Y_bar_B\", \"sd_B\", \"n_B\", \"gap_A_B\", \"gap_A_B_se\", \"gap_A_B_ci_l\", \"gap_A_B_ci_U\")\ncolnames(result2018_2019) <- c(\"Year_A\", \"Y_bar_A\", \"sd_A\", \"n_A\", \"Year_B\", \"Y_bar_B\", \"sd_B\", \"n_B\", \"gap_A_B\", \"gap_A_B_se\", \"gap_A_B_ci_l\", \"gap_A_B_ci_U\")\ncolnames(result2019_2020) <- c(\"Year_A\", \"Y_bar_A\", \"sd_A\", \"n_A\", \"Year_B\", \"Y_bar_B\", \"sd_B\", \"n_B\", \"gap_A_B\", \"gap_A_B_se\", \"gap_A_B_ci_l\", \"gap_A_B_ci_U\")\ncolnames(result2020_2021) <- c(\"Year_A\", \"Y_bar_A\", \"sd_A\", \"n_A\", \"Year_B\", \"Y_bar_B\", \"sd_B\", \"n_B\", \"gap_A_B\", \"gap_A_B_se\", \"gap_A_B_ci_l\", \"gap_A_B_ci_U\")\ncolnames(result2021_2022) <- c(\"Year_A\", \"Y_bar_A\", \"sd_A\", \"n_A\", \"Year_B\", \"Y_bar_B\", \"sd_B\", \"n_B\", \"gap_A_B\", \"gap_A_B_se\", \"gap_A_B_ci_l\", \"gap_A_B_ci_U\")\ncolnames(result2013_2019) <- c(\"Year_A\", \"Y_bar_A\", \"sd_A\", \"n_A\", \"Year_B\", \"Y_bar_B\", \"sd_B\", \"n_B\", \"gap_A_B\", \"gap_A_B_se\", \"gap_A_B_ci_l\", \"gap_A_B_ci_U\")\ncolnames(result2013_2022) <- c(\"Year_A\", \"Y_bar_A\", \"sd_A\", \"n_A\", \"Year_B\", \"Y_bar_B\", \"sd_B\", \"n_B\", \"gap_A_B\", \"gap_A_B_se\", \"gap_A_B_ci_l\", \"gap_A_B_ci_U\")\n```\n:::\n\n\n### Statistical Analysis - Gaps, Standard Error, and Confidence Intervals\n\nYearly Change in Number of Cars per Crash\n\n-   The \"gap_A_B\" column represents the difference in the average number\n    of cars per crash between the years represented in columns \"Year_A\"\n    and \"Year_B\".\n\n-   Positive values indicate an increase in the number of car crashes\n    from Year A to Year B while a negative value indicates a decrease.\n\nStandard Error and Confidence Intervals\n\n-   The \"gap_A_B_se\" column represents the standard error associated\n    with the estimated yearly change.\n\n-   The \"gap_A_B_ci_l\" and \"gap_A_B_ci_U\" columns represent the lower\n    and upper bounds of the confidence interval for the estimated yearly\n    change.\n\n-   These confidence intervals give a range (lower and upper) within\n    which the true yearly change is likely to fall within a certain\n    level of confidence (in this analysis, 95% confidence).\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlist_df = list(result2013_2014, result2014_2015, result2015_2016, result2016_2017, result2017_2018, result2018_2019, result2019_2020, result2020_2021, result2021_2022, result2013_2019, result2013_2022)\n\nall <- list_df %>%\n reduce(full_join, by= c(\"Year_A\", \"Y_bar_A\", \"sd_A\", \"n_A\", \"Year_B\", \"Y_bar_B\", \"sd_B\", \"n_B\", \"gap_A_B\", \"gap_A_B_se\", \"gap_A_B_ci_l\", \"gap_A_B_ci_U\"))\n\ncol_order <- c(\"Year_A\", \"Year_B\", \"Y_bar_A\", \"Y_bar_B\", \"sd_A\", \"sd_B\", \"n_A\", \"n_B\", \"gap_A_B\", \"gap_A_B_se\", \"gap_A_B_ci_l\", \"gap_A_B_ci_U\")\nallb <- all[, col_order]\n\nallb %>%\n  kbl(digits = 3, caption = \"Yearly Change in Number of Cars per Individual Crash\") %>%\n  kable_classic() %>%\n    column_spec(9, bold = T) %>%\n  row_spec(10:11, color = \"black\", background = \"#B7DFF6\")\n```\n\n::: {.cell-output-display}\n`````{=html}\n<table class=\" lightable-classic\" style='font-family: \"Arial Narrow\", \"Source Sans Pro\", sans-serif; margin-left: auto; margin-right: auto;'>\n<caption>Yearly Change in Number of Cars per Individual Crash</caption>\n <thead>\n  <tr>\n   <th style=\"text-align:right;\"> Year_A </th>\n   <th style=\"text-align:right;\"> Year_B </th>\n   <th style=\"text-align:right;\"> Y_bar_A </th>\n   <th style=\"text-align:right;\"> Y_bar_B </th>\n   <th style=\"text-align:right;\"> sd_A </th>\n   <th style=\"text-align:right;\"> sd_B </th>\n   <th style=\"text-align:right;\"> n_A </th>\n   <th style=\"text-align:right;\"> n_B </th>\n   <th style=\"text-align:right;\"> gap_A_B </th>\n   <th style=\"text-align:right;\"> gap_A_B_se </th>\n   <th style=\"text-align:right;\"> gap_A_B_ci_l </th>\n   <th style=\"text-align:right;\"> gap_A_B_ci_U </th>\n  </tr>\n </thead>\n<tbody>\n  <tr>\n   <td style=\"text-align:right;\"> 2013 </td>\n   <td style=\"text-align:right;\"> 2014 </td>\n   <td style=\"text-align:right;\"> 1.916 </td>\n   <td style=\"text-align:right;\"> 1.919 </td>\n   <td style=\"text-align:right;\"> 0.754 </td>\n   <td style=\"text-align:right;\"> 0.731 </td>\n   <td style=\"text-align:right;\"> 3829 </td>\n   <td style=\"text-align:right;\"> 3883 </td>\n   <td style=\"text-align:right;font-weight: bold;\"> 0.003 </td>\n   <td style=\"text-align:right;\"> -0.030 </td>\n   <td style=\"text-align:right;\"> 0.036 </td>\n   <td style=\"text-align:right;\"> 0.017 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2014 </td>\n   <td style=\"text-align:right;\"> 2015 </td>\n   <td style=\"text-align:right;\"> 1.919 </td>\n   <td style=\"text-align:right;\"> 1.955 </td>\n   <td style=\"text-align:right;\"> 0.731 </td>\n   <td style=\"text-align:right;\"> 0.724 </td>\n   <td style=\"text-align:right;\"> 3883 </td>\n   <td style=\"text-align:right;\"> 4078 </td>\n   <td style=\"text-align:right;font-weight: bold;\"> 0.037 </td>\n   <td style=\"text-align:right;\"> 0.005 </td>\n   <td style=\"text-align:right;\"> 0.069 </td>\n   <td style=\"text-align:right;\"> 0.016 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2015 </td>\n   <td style=\"text-align:right;\"> 2016 </td>\n   <td style=\"text-align:right;\"> 1.955 </td>\n   <td style=\"text-align:right;\"> 1.975 </td>\n   <td style=\"text-align:right;\"> 0.724 </td>\n   <td style=\"text-align:right;\"> 0.731 </td>\n   <td style=\"text-align:right;\"> 4078 </td>\n   <td style=\"text-align:right;\"> 4124 </td>\n   <td style=\"text-align:right;font-weight: bold;\"> 0.019 </td>\n   <td style=\"text-align:right;\"> -0.012 </td>\n   <td style=\"text-align:right;\"> 0.051 </td>\n   <td style=\"text-align:right;\"> 0.016 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2016 </td>\n   <td style=\"text-align:right;\"> 2017 </td>\n   <td style=\"text-align:right;\"> 1.975 </td>\n   <td style=\"text-align:right;\"> 1.958 </td>\n   <td style=\"text-align:right;\"> 0.731 </td>\n   <td style=\"text-align:right;\"> 0.763 </td>\n   <td style=\"text-align:right;\"> 4124 </td>\n   <td style=\"text-align:right;\"> 4780 </td>\n   <td style=\"text-align:right;font-weight: bold;\"> -0.017 </td>\n   <td style=\"text-align:right;\"> -0.048 </td>\n   <td style=\"text-align:right;\"> 0.014 </td>\n   <td style=\"text-align:right;\"> 0.016 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2017 </td>\n   <td style=\"text-align:right;\"> 2018 </td>\n   <td style=\"text-align:right;\"> 1.958 </td>\n   <td style=\"text-align:right;\"> 1.999 </td>\n   <td style=\"text-align:right;\"> 0.763 </td>\n   <td style=\"text-align:right;\"> 0.736 </td>\n   <td style=\"text-align:right;\"> 4780 </td>\n   <td style=\"text-align:right;\"> 4594 </td>\n   <td style=\"text-align:right;font-weight: bold;\"> 0.041 </td>\n   <td style=\"text-align:right;\"> 0.010 </td>\n   <td style=\"text-align:right;\"> 0.071 </td>\n   <td style=\"text-align:right;\"> 0.015 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2018 </td>\n   <td style=\"text-align:right;\"> 2019 </td>\n   <td style=\"text-align:right;\"> 1.999 </td>\n   <td style=\"text-align:right;\"> 2.013 </td>\n   <td style=\"text-align:right;\"> 0.736 </td>\n   <td style=\"text-align:right;\"> 0.722 </td>\n   <td style=\"text-align:right;\"> 4594 </td>\n   <td style=\"text-align:right;\"> 4265 </td>\n   <td style=\"text-align:right;font-weight: bold;\"> 0.014 </td>\n   <td style=\"text-align:right;\"> -0.017 </td>\n   <td style=\"text-align:right;\"> 0.044 </td>\n   <td style=\"text-align:right;\"> 0.015 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2019 </td>\n   <td style=\"text-align:right;\"> 2020 </td>\n   <td style=\"text-align:right;\"> 2.013 </td>\n   <td style=\"text-align:right;\"> 1.915 </td>\n   <td style=\"text-align:right;\"> 0.722 </td>\n   <td style=\"text-align:right;\"> 0.782 </td>\n   <td style=\"text-align:right;\"> 4265 </td>\n   <td style=\"text-align:right;\"> 3023 </td>\n   <td style=\"text-align:right;font-weight: bold;\"> -0.098 </td>\n   <td style=\"text-align:right;\"> -0.133 </td>\n   <td style=\"text-align:right;\"> -0.062 </td>\n   <td style=\"text-align:right;\"> 0.018 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2020 </td>\n   <td style=\"text-align:right;\"> 2021 </td>\n   <td style=\"text-align:right;\"> 1.915 </td>\n   <td style=\"text-align:right;\"> 1.977 </td>\n   <td style=\"text-align:right;\"> 0.782 </td>\n   <td style=\"text-align:right;\"> 0.763 </td>\n   <td style=\"text-align:right;\"> 3023 </td>\n   <td style=\"text-align:right;\"> 4071 </td>\n   <td style=\"text-align:right;font-weight: bold;\"> 0.062 </td>\n   <td style=\"text-align:right;\"> 0.026 </td>\n   <td style=\"text-align:right;\"> 0.099 </td>\n   <td style=\"text-align:right;\"> 0.019 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;\"> 2021 </td>\n   <td style=\"text-align:right;\"> 2022 </td>\n   <td style=\"text-align:right;\"> 1.977 </td>\n   <td style=\"text-align:right;\"> 1.963 </td>\n   <td style=\"text-align:right;\"> 0.763 </td>\n   <td style=\"text-align:right;\"> 0.735 </td>\n   <td style=\"text-align:right;\"> 4071 </td>\n   <td style=\"text-align:right;\"> 3649 </td>\n   <td style=\"text-align:right;font-weight: bold;\"> -0.014 </td>\n   <td style=\"text-align:right;\"> -0.048 </td>\n   <td style=\"text-align:right;\"> 0.019 </td>\n   <td style=\"text-align:right;\"> 0.017 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 2013 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 2019 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 1.916 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 2.013 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 0.754 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 0.722 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 3829 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 4265 </td>\n   <td style=\"text-align:right;font-weight: bold;color: black !important;background-color: #B7DFF6 !important;\"> 0.097 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 0.065 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 0.129 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 0.016 </td>\n  </tr>\n  <tr>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 2013 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 2022 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 1.916 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 1.963 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 0.754 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 0.735 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 3829 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 3649 </td>\n   <td style=\"text-align:right;font-weight: bold;color: black !important;background-color: #B7DFF6 !important;\"> 0.048 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 0.014 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 0.081 </td>\n   <td style=\"text-align:right;color: black !important;background-color: #B7DFF6 !important;\"> 0.017 </td>\n  </tr>\n</tbody>\n</table>\n\n`````\n:::\n:::\n\nOverall, from 2013 to 2022 within a **95% level of confidence**, the true\nyearly change in number of cars per crash is likely to be between **0.081\nand 0.017**.\n\nWe see a slightly higher true yearly change from 2013 to 2019 (pre-pandemic) with **0.129 and 0.016**. \n\n### Simple Linear Regression\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# estimate the model and assign the result to linear_model\nNumbers %>%\n  ggplot( aes(x=YEAR, y=NUMB_VEHC)) +\n    geom_point() +  geom_jitter() +  geom_smooth(method = \"lm\") + scale_x_continuous(breaks=pretty_breaks()) + labs(y = \"Number of Cars Involved per Individual Crash\", x = \"Year\", title = str_wrap(\"Crashes in Boston by Number of Cars Involved per Crash with Linear Model\", width = 60))\n```\n\n::: {.cell-output-display}\n![](Class_Project_1_Sue-Ellen_Duffy_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\nThe above plot is the same as we saw earlier in this analysis. It captures all of the individual crashes from 2013-2022 with each dot representing the number of Cars involved in each crash. \n\nThe blue line represents the systematic relationship between Year and Number of Cars per Individual Car Crash. \n\nFrom this perspective it is difficult to see the uniqueness of the line. It almost looks straight, but if you look sharply you can see a slight increase from 2013 to 2022.\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nNumbers %>%\n  ggplot( aes(x=YEAR, y=NUMB_VEHC)) +\n    geom_point() + geom_smooth(method = \"lm\") +  geom_jitter() + coord_cartesian(ylim = c(1.9, 2.0)) + labs(y = \"Number of Cars Involved per Individual Crash\", x = \"Year\", title = str_wrap(\"ZOOMED - Crashes in Boston by Number of Cars Involved per Crash with Linear Model\", width = 60)) + scale_x_continuous(breaks=pretty_breaks()) \n```\n\n::: {.cell-output-display}\n![](Class_Project_1_Sue-Ellen_Duffy_files/figure-html/unnamed-chunk-14-1.png){width=672}\n:::\n:::\n\nHere we have the same graph, but **zoomed** in, with y parameters (1.9, 2), to the line in question . This graph more acutely visualizes the systematic line. \n\n#### Linear Model Summary\n\n\n::: {.cell}\n\n```{.r .cell-code}\nattach(Numbers) \nmod_summary <- summary( lm(NUMB_VEHC ~ YEAR))\nmod_summary\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = NUMB_VEHC ~ YEAR)\n\nResiduals:\n    Min      1Q  Median      3Q     Max \n-0.9857  0.0143  0.0357  0.0570 16.0410 \n\nCoefficients:\n             Estimate Std. Error t value Pr(>|t|)    \n(Intercept) -8.810883   2.677341  -3.291    0.001 ***\nYEAR         0.005340   0.001327   4.023 5.75e-05 ***\n---\nSignif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1\n\nResidual standard error: 0.744 on 40294 degrees of freedom\nMultiple R-squared:  0.0004016,\tAdjusted R-squared:  0.0003768 \nF-statistic: 16.19 on 1 and 40294 DF,  p-value: 5.745e-05\n```\n:::\n:::\n\n#### Interpretation\n\nBeta_0 is the intercept parameter of the population regression line at\n-8.810883\n\nBeta_1 is the slope parameter of the population regression line at\n0.005339553\n\nWhat this data tells us is that, each year is associated with a .0053 \"car\" increase in number of cars involved in a crash on average. \n\n+ In 5 years, there will be a (.0053 * 5) =  .0265 \"car\" increase in number of cars involved in a crash on average.\n\n+ In 10 years, there will be a (.0053 * 10) = .053 \"car\" increase in number of cars involved in a crash on average.\n\nThe linear regression model suggests that while the Year variable is **statistically significant**, it has a very **weak effect** on the Number of Cars Involved per Individual Crash variable. \n\nThe passage of time only explains a small proportion of the variance in Number of Cars Involved per Individual Crash and therefore is not a strong predictor.\n\n+ The p-values are significant because they are both less than .05. \n\n+ The small p-value rejects the Null Hypothesis.\n\nR-squared measures the goodness of fit, or rather measures the percentage of variation of y that is linearly explained by the variations of x's. With an **R-squared value of 0.0004016**, we can see that x (YEAR) is **not a good fit** for measuring y (Number of Cars Involved per Individual Crash).\n\nF-statistic is a measure which assess overall significance of a linear regression model. It is calculated by taking the ratio of the explained variation to the unexplained variation and adjusting for degrees of freedom. \nR2/(1-R2)* (n-k-1)/k\n\n+ The F-statistic with a value of 16.19 and an associated p-value of 5.745e-05, indicate the regression is statistically significant, with strong evidence to suggest that the model as a whole has explanatory power and there is evidence of a relationship between Number of cars Involved per Individual Crash and Year.\n\n\n### Next steps...\n\nThe statistical analysis demonstrates a need to explore more variables in order to understand the relationship of Number of Cars Involved per Individual Crash and Year.\n\nBelow are some potential variables to be considered moving forward with multivariate analysis.\n\nAvailable within the DOT dataset:\n\n+ Time of Day\n\n+ Weather\n\n+ Type of crash - are rear-ends the culprit of multiple car crashs or side-swipes?\n\n\nOutside of the DOT dataset:\n\n+ Size increase in cars\n\n+ Increase in cars driving through Boston in general\n\n+ Decrease in people taking public transit",
    "supporting": [
      "Class_Project_1_Sue-Ellen_Duffy_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../site_libs/kePrint-0.0.1/kePrint.js\"></script>\r\n<link href=\"../site_libs/lightable-0.0.1/lightable.css\" rel=\"stylesheet\" />\r\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}