{
  "hash": "6d972c6302f4840dc2daedd39425f66c",
  "result": {
    "markdown": "---\ntitle: \"UFO Shapes & Length of Encounters: Descriptive Analysis\"\nauthor: \"Peri (Teresa) Lardo\"\ndesription: \"Descriptive analysis of UFO sightings data set\"\ndate: \"2023-07-18\"\nformat:\n  html:\n    toc: true\n    code-fold: true\n    code-copy: true\n    code-tools: true\ncategories:\n  - Project1\n  - Peri Teresa Lardo\n  - UFO sightings\n---\n\n\n## Load libraries and dataset, clean data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#Load libraries and import data\nlibrary(tidyverse)\nlibrary(readr)\nlibrary(dplyr)\n\nknitr::opts_chunk$set(echo = TRUE)\n\n# Create shape categories for personal sanity\n\nround <- c(\"disk\", \"round\", \"sphere\", \"circle\", \"dome\")\ntriangular <- c(\"triangle\", \"cone\", \"pyramid\", \"delta\", \"chevron\")\noval <- c(\"oval\", \"teardrop\", \"egg\", \"crescent\")\nparallelogram <- c(\"cross\", \"diamond\", \"hexagon\", \"rectangle\")\ncylinder <- c(\"cylinder\", \"cigar\")\n\n\nufo_sighting_data <- read_csv(\"data/ufo_sighting_data.csv\") %>% drop_na(UFO_shape, length_of_encounter_seconds) %>%\n  filter(!UFO_shape %in% c(\"light\", \"fireball\", \"flare\", \"flash\", \"other\", \"unknown\", \"formation\", \"changing\", \"changed\")) %>%\n  mutate(Shape_Category = case_when(\n         UFO_shape %in% round ~ \"Round\",\n         UFO_shape %in% triangular ~ \"Triangular\",\n         UFO_shape %in% oval ~ \"Oval\",\n         UFO_shape %in% parallelogram ~ \"Parallelogram\",\n         UFO_shape %in% cylinder ~ \"Cylinder\"))\n```\n:::\n\nSince I'm looking into UFO shapes, and there are a lot of individual shapes, I opted to first remove \"shapes\" that aren't literally shapes (including descriptions like \"flash\" or \"formation\" or \"changing\" as well as the super-specific shape of \"light\"). Then I collapsed the remaining UFO shape descriptions into 5 categories: Triangular, Cylindrical, Oval, Round (more properly circular than oval), and Parallelograms.\n\n## Probability Distributions of Encounter Length\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Plot the probability & CDF for variables\nprobability <- ufo_sighting_data$length_of_encounter_seconds\nplot(probability,\n     xlab = \"Length of UFO Encounter in Seconds\",\n     main = \"Probability\",\n     col = \"navyblue\", \n     cex = 0.8)\n```\n\n::: {.cell-output-display}\n![](Project1-TeresaLardo_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\ncum_probability <- cumsum(probability)\nplot(cum_probability,\n     xlab = \"Length of UFO Encounter in Seconds\",\n     ylab = \"Cumulative Probability\",\n     main = \"Cumulative Probability Distribution\",\n     col = \"red\",\n     cex = 0.8)\n```\n\n::: {.cell-output-display}\n![](Project1-TeresaLardo_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n## Grouping Data by Shape Category\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Group data by the 2 variables of interest. Get mean & STDEV for at least 1 variable and print results\nround <- c(\"disk\", \"round\", \"sphere\", \"circle\", \"dome\")\ntriangular <- c(\"triangle\", \"cone\", \"pyramid\", \"delta\", \"chevron\")\noval <- c(\"oval\", \"teardrop\", \"egg\", \"crescent\")\nparallelogram <- c(\"cross\", \"diamond\", \"hexagon\", \"rectangle\")\ncylinder <- c(\"cylinder\", \"cigar\")\n\navgs <- ufo_sighting_data %>%\n  group_by(Shape_Category) %>%\n  summarize(mean(length_of_encounter_seconds),\n            sd(length_of_encounter_seconds),\n            n())\n\ncolnames(avgs) <- c(\"Shape\", \"mean_seconds\", \"sd_seconds\", \"n_seconds\")\n\nprint(avgs)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 5 Ã— 4\n  Shape         mean_seconds sd_seconds n_seconds\n  <chr>                <dbl>      <dbl>     <int>\n1 Cylinder             2497.     56288.      3340\n2 Oval                 3190.     93554.      5244\n3 Parallelogram        1006.      5184.      2709\n4 Round                8855.    736618.     18210\n5 Triangular           4345.    266403.      9141\n```\n:::\n:::\n\n## Split Variables\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Split your variables\ncylindrical_UFOS <- avgs %>% dplyr::filter(Shape == \"Cylinder\")\noval_UFOS <- avgs %>% dplyr::filter(Shape == \"Oval\")\nparallelogram_UFOS <- avgs %>% dplyr::filter(Shape == \"Parallelogram\")\nround_UFOS <- avgs %>% dplyr::filter(Shape == \"Round\")\ntriangular_UFOs <- avgs %>% dplyr::filter(Shape == \"Triangular\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Rename columns according to the splits you made; Obtain difference in means, standard errors, and confidence intervals\ncolnames(cylindrical_UFOS) <- c(\"Shape\", \"Y_bar_cy\", \"sd_cy\", \"n_cy\") \n\ncolnames(oval_UFOS) <- c(\"Shape\", \"Y_bar_ov\", \"sd_ov\", \"n_ov\")\n\ncolnames(parallelogram_UFOS) <- c(\"Shape\", \"Y_bar_pa\", \"sd_pa\", \"n_pa\")\n\ncolnames(round_UFOS) <- c(\"Shape\", \"Y_bar_ro\", \"sd_ro\", \"n_ro\")\n\ncolnames(triangular_UFOs) <- c(\"Shape\", \"Y_bar_tr\", \"sd_tr\", \"n_tr\")\n```\n:::\n\n\n## Estimate Mean Differences, Standard Errors & CIs for Triangular v. Round UFOs\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gaps for Triangular versus Round UFOs\n\ngap_tro <- triangular_UFOs$Y_bar_tr - round_UFOS$Y_bar_ro\n\ngap_tro_se <- sqrt((triangular_UFOs$sd_tr ^ 2 / triangular_UFOs$n_tr) + (round_UFOS$sd_ro ^ 2 / round_UFOS$n_ro))\n\ngap_tro_ci_low <- gap_tro - 1.96 * gap_tro_se\n\ngap_tro_ci_up <- gap_tro + 1.96 * gap_tro_se\n\nresult_tro <- cbind(triangular_UFOs[,-1], round_UFOS[,-(1:2)], gap_tro, gap_tro_se, gap_tro_ci_low, gap_tro_ci_up)\n\nprint(result_tro, digits = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Y_bar_tr  sd_tr n_tr  sd_ro  n_ro gap_tro gap_tro_se gap_tro_ci_low\n1     4345 266403 9141 736618 18210   -4510       6129         -16523\n  gap_tro_ci_up\n1          7502\n```\n:::\n:::\n\n## Estimate Mean Differences, Standard Errors & CIs for Triangular v. Oval UFOs\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Gaps for Triangular versus Oval UFOs\n\ngap_trov <- triangular_UFOs$Y_bar_tr - oval_UFOS$Y_bar_ov\n\ngap_trov_se <- sqrt((triangular_UFOs$sd_tr^2 / triangular_UFOs$n_tr) + (oval_UFOS$sd_ov^2 / oval_UFOS$n_ov))\n\ngap_trov_ci_low <- gap_trov - 1.96 * gap_trov_se\n\ngap_trov_ci_up <- gap_trov + 1.96 * gap_trov_se\n\nresult_trov <- cbind(triangular_UFOs[,-1], oval_UFOS[,-(1:2)], gap_trov, gap_trov_se, gap_trov_ci_low, gap_trov_ci_up)\n\nprint(result_trov, digits = 3)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Y_bar_tr  sd_tr n_tr sd_ov n_ov gap_trov gap_trov_se gap_trov_ci_low\n1     4345 266403 9141 93554 5244     1155        3071           -4865\n  gap_trov_ci_up\n1           7174\n```\n:::\n:::\n\n## Generate Visualization\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Generate a plot \nlibrary(ggplot2)\n\nggplot(avgs, aes(as.factor(Shape), mean_seconds, fill = Shape)) +\n  geom_bar(stat = \"identity\") + \n  labs(y = \"Average encounter length (seconds)\", x = \"UFO Shape Category\", title=\"Mean length of UFO encounter by Craft Shape\") + \n  scale_fill_manual(values = c(\"darkred\", \"darkorange2\", \"darkgreen\", \"darkcyan\", \"darkorchid4\"))\n```\n\n::: {.cell-output-display}\n![](Project1-TeresaLardo_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\nAs my independent variable is nominal, I figured a bar chart would be the best way to show how the mean encounter length varies for each of the 5 shape categories. This visualization suggests that people have spent the most time encountering round-shaped UFOs, but later data visualizations will show that the round UFO category has a notable outlier. After round UFOs, triangular and oval-shaped crafts have the highest average encounter length. I'll focus on those 3 shape categories rather than all 5. \n\n## Regression with Dummy Variables\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Carry out simple regression analysis using lm(). Generate plot that regresses X variable on Y. Fit a line through observations. \n\n# Create dummy variables for categorical Shape (x) variable\nlibrary(fastDummies)\n```\n\n::: {.cell-output .cell-output-stderr}\n```\nWarning: package 'fastDummies' was built under R version 4.2.3\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nThank you for using fastDummies!\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nTo acknowledge our work, please cite the package:\n```\n:::\n\n::: {.cell-output .cell-output-stderr}\n```\nKaplan, J. & Schlegel, B. (2023). fastDummies: Fast Creation of Dummy (Binary) Columns and Rows from Categorical Variables. Version 1.7.1. URL: https://github.com/jacobkap/fastDummies, https://jacobkap.github.io/fastDummies/.\n```\n:::\n\n```{.r .cell-code}\nufo_sighting_data <- dummy_cols(ufo_sighting_data, select_columns = 'Shape_Category')\n\nufo_lm <- lm(length_of_encounter_seconds ~ Shape_Category, ufo_sighting_data)\n\nprint(ufo_lm)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\nCall:\nlm(formula = length_of_encounter_seconds ~ Shape_Category, data = ufo_sighting_data)\n\nCoefficients:\n                (Intercept)           Shape_CategoryOval  \n                     2496.9                        693.5  \nShape_CategoryParallelogram          Shape_CategoryRound  \n                    -1490.6                       6358.3  \n   Shape_CategoryTriangular  \n                     1848.1  \n```\n:::\n:::\n\n\n## Plot for Triangular UFOs\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Plot distribution for Triangular crafts\nTri_mean <- mean(ufo_sighting_data$length_of_encounter_seconds[ufo_sighting_data$Shape_Category_Triangular == 1])\nNtri_mean <- mean(ufo_sighting_data$length_of_encounter_seconds[ufo_sighting_data$Shape_Category_Triangular == 0])\n\nplot(length_of_encounter_seconds ~ Shape_Category_Triangular, ufo_sighting_data, pch=19, col=\"steelblue\", \n     main=\"Triangular-Shaped UFOs\", \n     ylab=\"Length of Encounter (Seconds)\",\n     xlab=\"Triangular-Shaped Craft versus Non-Triangular Crafts\")\npoints(y = Tri_mean, x=1, col=\"red\", pch=19) \npoints(y = Ntri_mean, x=0, col=\"red\", pch=19)\n```\n\n::: {.cell-output-display}\n![](Project1-TeresaLardo_files/figure-html/unnamed-chunk-11-1.png){width=672}\n:::\n:::\n\n\n## Plot for Oval UFOs\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Plot distribution for Oval crafts\nOval_mean <- mean(ufo_sighting_data$length_of_encounter_seconds[ufo_sighting_data$Shape_Category_Oval == 1])\nNov_mean <- mean(ufo_sighting_data$length_of_encounter_seconds[ufo_sighting_data$Shape_Category_Oval == 0])\n\nplot(length_of_encounter_seconds ~ Shape_Category_Oval, ufo_sighting_data, pch=19, col=\"steelblue\", \n     main=\"Oval-Shaped UFOs\", \n     xlab=\"Oval Crafts versus Non-Oval Crafts\",\n     ylab=\"Length of Encounter (Seconds)\")\n\npoints(y = Oval_mean, x=1, col=\"red\", pch=19)\npoints(y = Nov_mean, x=0, col=\"red\", pch=19)\n```\n\n::: {.cell-output-display}\n![](Project1-TeresaLardo_files/figure-html/unnamed-chunk-12-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n# Plot distribution for Round crafts\nRo_mean <- mean(ufo_sighting_data$length_of_encounter_seconds[ufo_sighting_data$Shape_Category_Round == 1])\nNro_mean <- mean(ufo_sighting_data$length_of_encounter_seconds[ufo_sighting_data$Shape_Category_Round == 0])\n\nplot(length_of_encounter_seconds ~ Shape_Category_Round, ufo_sighting_data, pch=19, col=\"steelblue\",\n     main=\"Round-Shaped UFOs\",\n     ylab=\"Length of Encounter (Seconds)\",\n     xlab=\"Round vs. Non-Round Crafts\")\n\npoints(y = Ro_mean, x=1, col=\"red\", pch=19)\npoints(y = Nro_mean, x=0, col=\"red\", pch=19)\n```\n\n::: {.cell-output-display}\n![](Project1-TeresaLardo_files/figure-html/unnamed-chunk-13-1.png){width=672}\n:::\n:::\n\nThis plot allows us to see the outlier point in the round shape category that may influence the relatively high value of its mean when compared to the other shape categories. ",
    "supporting": [
      "Project1-TeresaLardo_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}